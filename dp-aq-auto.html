<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: xwMOOC 데이터 제품</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-59802572-17', 'auto');
      ga('send', 'pageview');
    
    </script>
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <a href="index.html"><h1 class="title">xwMOOC 데이터 제품</h1></a>
          <h2 class="subtitle">등록된 자동차 현황 - 성남시</h2>
          <h1 id="diesel-aq">1. 디젤차? <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></h1>
<p>자동차 배기가스 통제를 강화하면 공기질이 좋아질 것인가? 전세계 대도시의 공기품질 향상을 위해서 다양한 실험을 진행중에 있고, 베이징도 자동차 배기가스 통제를 비롯한 도심 공기청정기술을 도입하는 등 다양한 시도를 취하고 있다.</p>
<p>공기품질을 높일 수 있는 여러방안이 있지만 가장 먼저 자동차 등록대수 현상파악부터 시작을 해 보자.</p>
<h1 id="auto-registration-data">2. 자동차 등록현황 데이터</h1>
<p>국토교통 통계누리 <a href="http://stat.molit.go.kr/portal/cate/statMetaView.do?hRsId=58&amp;hFormId=2040&amp;hSelectId=2040&amp;sStyleNum=413&amp;sStart=201801&amp;sEnd=201801&amp;hPoint=00&amp;hAppr=1&amp;oFileName=2018%EB%85%84+01%EC%9B%94+%EC%9E%90%EB%8F%99%EC%B0%A8+%EB%93%B1%EB%A1%9D%EC%9E%90%EB%A3%8C+%ED%86%B5%EA%B3%84.xlsx&amp;rFileName=2018%EB%85%84+01%EC%9B%94+%EC%9E%90%EB%8F%99%EC%B0%A8+%EB%93%B1%EB%A1%9D%EC%9E%90%EB%A3%8C+%ED%86%B5%EA%B3%84.xlsx&amp;midpath=%2Fstat_file%2F">자동차등록현황보고 (Total Registered Moter Vehicles)</a> 웹사이트를 통해 자동차 등록현황 데이터를 다운로드 받아볼 수 있다.</p>
<p>웹사이트에서 다운로드 받은 데이터가 깔끔한 형태가 아니라서, 데이터를 깔끔하게 정제작업을 수행한다.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="kw">library</span>(readxl)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="kw">library</span>(xts)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="kw">library</span>(extrafont)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="kw">loadfonts</span>()</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="kw">library</span>(ggthemes)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a><span class="kw">library</span>(DT)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a><span class="kw">library</span>(treemap)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a><span class="kw">library</span>(highcharter)</span></code></pre></div>
<pre class="output"><code>Error in library(highcharter): there is no package called &#39;highcharter&#39;
</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="kw">library</span>(d3treeR)</span></code></pre></div>
<pre class="output"><code>Error in library(d3treeR): there is no package called &#39;d3treeR&#39;
</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="co"># 1. 데이터 가져오기 -----</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>auto_dat &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;data/자동차대수/2018년_01월_자동차_등록자료_통계.xlsx&quot;</span>, <span class="dt">sheet=</span><span class="st">&quot;02.통계표_시군구&quot;</span>, <span class="dt">skip=</span><span class="dv">3</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="co"># 2. 데이터 정제 -----</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a>auto_dat &lt;-<span class="st"> </span>auto_dat <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">select</span>(<span class="st">&quot;X__1&quot;</span>, <span class="st">&quot;X__2&quot;</span>, <span class="st">&quot;관용&quot;</span>, <span class="st">&quot;자가용&quot;</span>, <span class="st">&quot;영업용&quot;</span>, <span class="st">&quot;관용__1&quot;</span>, </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a>             <span class="st">&quot;자가용__1&quot;</span>, <span class="st">&quot;영업용__1&quot;</span>, <span class="st">&quot;관용__2&quot;</span>, <span class="st">&quot;자가용__2&quot;</span>, <span class="st">&quot;영업용__2&quot;</span>, </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a>             <span class="st">&quot;관용__3&quot;</span>, <span class="st">&quot;자가용__3&quot;</span>, <span class="st">&quot;영업용__3&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a><span class="st">    </span><span class="kw">rename</span>(시도=X__<span class="dv">1</span>, 시군구=X__<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(시도 =<span class="st"> </span><span class="kw">na.locf</span>(시도)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true"></a><span class="st">    </span><span class="kw">filter</span>(시군구 <span class="op">!=</span><span class="st"> &quot;계&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true"></a><span class="st">    </span><span class="kw">rename</span>(승용_관용 =<span class="st"> &quot;관용&quot;</span>, </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true"></a>           승용_자가용 =<span class="st"> &quot;자가용&quot;</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true"></a>           승용_영업용 =<span class="st"> &quot;영업용&quot;</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true"></a>           승합_관용 =<span class="st"> &quot;관용__1&quot;</span>, </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true"></a>           승합_자가용 =<span class="st"> &quot;자가용__1&quot;</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true"></a>           승합_영업용 =<span class="st"> &quot;영업용__1&quot;</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true"></a>           화물_관용   =<span class="st"> &quot;관용__2&quot;</span>, </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true"></a>           화물_자가용 =<span class="st"> &quot;자가용__2&quot;</span>,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true"></a>           화물_영업용 =<span class="st"> &quot;영업용__2&quot;</span>,</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true"></a>           특수_관용   =<span class="st"> &quot;관용__3&quot;</span>, </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true"></a>           특수_자가용 =<span class="st"> &quot;자가용__3&quot;</span>,</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true"></a>           특수_영업용 =<span class="st"> &quot;영업용__3&quot;</span>)</span></code></pre></div>
<pre class="output"><code>Error: Can&#39;t subset columns that don&#39;t exist.
x Column `X__1` doesn&#39;t exist.
</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>승용_df &lt;-<span class="st"> </span>auto_dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(시도, 시군구, <span class="kw">contains</span>(<span class="st">&quot;승용&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">gather</span>(용도, 대수, <span class="op">-</span>시도, <span class="op">-</span>시군구)</span></code></pre></div>
<pre class="output"><code>Error: Can&#39;t subset columns that don&#39;t exist.
x Column `시도` doesn&#39;t exist.
</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>화물_df &lt;-<span class="st"> </span>auto_dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(시도, 시군구, <span class="kw">contains</span>(<span class="st">&quot;화물&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">gather</span>(용도, 대수, <span class="op">-</span>시도, <span class="op">-</span>시군구)</span></code></pre></div>
<pre class="output"><code>Error: Can&#39;t subset columns that don&#39;t exist.
x Column `시도` doesn&#39;t exist.
</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>특수_df &lt;-<span class="st"> </span>auto_dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(시도, 시군구, <span class="kw">contains</span>(<span class="st">&quot;특수&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">gather</span>(용도, 대수, <span class="op">-</span>시도, <span class="op">-</span>시군구)</span></code></pre></div>
<pre class="output"><code>Error: Can&#39;t subset columns that don&#39;t exist.
x Column `시도` doesn&#39;t exist.
</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>auto_df &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(승용_df, 화물_df, 특수_df)</span></code></pre></div>
<pre class="output"><code>Error in list2(...): object &#39;승용_df&#39; not found
</code></pre>
<h1 id="auto-registration-stat">3. 시군구별 자동차 등록현황 통계</h1>
<p>정제가 완료된 데이터를 차량유형별, 차량용도별로 표로 만들어 살펴보자.</p>
<h2 id="auto-registration-stat-type">3.1. 차량유형별</h2>
<p>승용, 특수, 화물 차량 유형별로 살펴보자.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a><span class="co"># 2. 데이터 정제하기 -----</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a>auto_df &lt;-<span class="st"> </span>auto_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">separate</span>(용도, <span class="dt">into=</span><span class="kw">c</span>(<span class="st">&quot;차량&quot;</span>, <span class="st">&quot;용도&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">separate</span>(시군구, <span class="dt">into=</span><span class="kw">c</span>(<span class="st">&quot;시군&quot;</span>, <span class="st">&quot;시군구&quot;</span>), <span class="dt">sep=</span><span class="st">&quot; &quot;</span>, <span class="dt">fill=</span><span class="st">&quot;right&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(시군구 =<span class="st"> </span><span class="kw">ifelse</span>(<span class="kw">is.na</span>(시군구), 시군, 시군구))</span></code></pre></div>
<pre class="output"><code>Error in separate(., 용도, into = c(&quot;차량&quot;, &quot;용도&quot;)): object &#39;auto_df&#39; not found
</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="co">## 2.1. 시도별 차량유형별 차량 등록대수표</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a>auto_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(차량, 시도) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">summarize</span>(대수 =<span class="st"> </span><span class="kw">sum</span>(대수)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(대수)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">spread</span>(차량, 대수) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">datatable</span>(<span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">pageLength =</span> <span class="dv">10</span>),</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true"></a>              <span class="dt">autoHideNavigation =</span> <span class="kw">getOption</span>(<span class="st">&quot;DT.autoHideNavigation&quot;</span>, <span class="ot">NULL</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true"></a><span class="st">    </span><span class="kw">formatCurrency</span>(<span class="kw">c</span>(<span class="st">&quot;승용&quot;</span>, <span class="st">&quot;특수&quot;</span>, <span class="st">&quot;화물&quot;</span>), <span class="dt">currency=</span><span class="st">&quot;&quot;</span>, <span class="dt">interval=</span><span class="dv">3</span>, <span class="dt">digits=</span><span class="dv">0</span>)</span></code></pre></div>
<pre class="output"><code>Error in group_by(., 차량, 시도): object &#39;auto_df&#39; not found
</code></pre>
<h2 id="auto-registration-stat-usage">3.2. 차량용도별</h2>
<p>관용, 영업용, 자가용 차량용도별로 살펴보자.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a>auto_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(용도, 시도) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">summarize</span>(대수 =<span class="st"> </span><span class="kw">sum</span>(대수)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(대수)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">spread</span>(용도, 대수) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">datatable</span>(<span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">pageLength =</span> <span class="dv">10</span>),</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true"></a>              <span class="dt">autoHideNavigation =</span> <span class="kw">getOption</span>(<span class="st">&quot;DT.autoHideNavigation&quot;</span>, <span class="ot">NULL</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">formatCurrency</span>(<span class="kw">c</span>(<span class="st">&quot;관용&quot;</span>, <span class="st">&quot;영업용&quot;</span>, <span class="st">&quot;자가용&quot;</span>), <span class="dt">currency=</span><span class="st">&quot;&quot;</span>, <span class="dt">interval=</span><span class="dv">3</span>, <span class="dt">digits=</span><span class="dv">0</span>)</span></code></pre></div>
<pre class="output"><code>Error in group_by(., 용도, 시도): object &#39;auto_df&#39; not found
</code></pre>
<h1 id="auto-registration-viz">4. 자동차 등록현황 시각화</h1>
<h2 id="auto-registration-viz-ggplot">4.1. 시도별 자동차 등록대수</h2>
<p>시도별 자동차 등록대수를 정적 그래프를 통해 시각화해보자.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a><span class="co"># 3. 시각화 -----</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true"></a><span class="co">## 3.1. 시도별 차량 등록대수</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true"></a>auto_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(시도) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">summarize</span>(대수 =<span class="st"> </span><span class="kw">sum</span>(대수)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(대수)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">fct_reorder</span>(시도, 대수), <span class="dt">y=</span>대수)) <span class="op">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true"></a><span class="st">      </span><span class="kw">geom_col</span>() <span class="op">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true"></a><span class="st">      </span><span class="kw">coord_flip</span>() <span class="op">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true"></a><span class="st">      </span><span class="kw">labs</span>(<span class="dt">y=</span><span class="st">&quot;등록대수&quot;</span>, <span class="dt">x=</span><span class="st">&quot;&quot;</span>) <span class="op">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true"></a><span class="st">      </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true"></a><span class="st">      </span><span class="kw">theme_bw</span>(<span class="dt">base_family=</span><span class="st">&quot;NanumGothic&quot;</span>)</span></code></pre></div>
<pre class="output"><code>Error in group_by(., 시도): object &#39;auto_df&#39; not found
</code></pre>
<h2 id="auto-registration-viz-treemap">4.2. 시군구별 자동차 등록현황</h2>
<p>시도별, 시군구별 자동차 등력현황을 <code>treemap</code>을 통해 시각화해 보자.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a><span class="co">## 3.2. treemap: 시도, 시군, 시군구, 차량</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true"></a>auto_treemap_df &lt;-<span class="st"> </span>auto_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(시도, 시군, 시군구, 차량) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">summarize</span>(대수 =<span class="st"> </span><span class="kw">sum</span>(대수))</span></code></pre></div>
<pre class="output"><code>Error in group_by(., 시도, 시군, 시군구, 차량): object &#39;auto_df&#39; not found
</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a>auto_treemap &lt;-<span class="st"> </span><span class="kw">treemap</span>(auto_treemap_df, </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true"></a>                            <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;시도&quot;</span>, <span class="st">&quot;시군&quot;</span>, <span class="st">&quot;시군구&quot;</span>, <span class="st">&quot;차량&quot;</span>),  </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true"></a>                            <span class="dt">vSize =</span> <span class="st">&quot;대수&quot;</span>, </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true"></a>                            <span class="dt">vColor =</span> <span class="st">&quot;대수&quot;</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true"></a>                            <span class="dt">title =</span> <span class="st">&quot;차량등록대수&quot;</span>, </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true"></a>                            <span class="dt">fontsize.labels=</span><span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">8</span>), </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true"></a>                            <span class="dt">draw =</span> <span class="ot">FALSE</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true"></a>                            <span class="dt">type =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true"></a>                            <span class="dt">format.legend =</span> <span class="kw">list</span>(<span class="dt">scientific =</span> <span class="ot">FALSE</span>, <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>),</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true"></a>                            <span class="dt">title.legend=</span><span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre class="output"><code>Error in treemap(auto_treemap_df, index = c(&quot;시도&quot;, &quot;시군&quot;, &quot;시군구&quot;, : object &#39;auto_treemap_df&#39; not found
</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a><span class="kw">d3tree2</span>(auto_treemap, <span class="dt">rootname =</span> <span class="st">&quot;대한민국&quot;</span>)</span></code></pre></div>
<pre class="output"><code>Error in d3tree2(auto_treemap, rootname = &quot;대한민국&quot;): could not find function &quot;d3tree2&quot;
</code></pre>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p><a href="http://www.carguy.kr/china/28732/">CAR GUY - 디젤차 금지 베이징, 미세먼지 서울보다 좋아져 이변</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
  </body>
</html>
